{% extends "JS_temp/js_base.html" %}

{% block style %}

	<style>
	#container {
	  width: 400px;
	  height: 400px;
	  position: relative;
	  background: yellow;
	}
	#animate {
	  width: 50px;
	  height: 50px;
	  position: absolute;
	  background-color: red;
	}
	</style>

{% endblock style %}

{% block content %}

	<p><button onclick="myMove()">Щелкни меня</button></p> 

	<div id ="container">
	  <div id ="animate"></div>
	</div>

{% endblock %}

{% block scripts %}

<script>
function myMove() {
  const elem = document.getElementById('animate');
  let pos = 0;
  let direction = 1; // 1 = вперёд, -1 = назад

  const tick = () => {
    pos += direction;

    // меняем направление, если дошли до границы
    if (pos >= 350 || pos <= 0) {
      direction *= -1;
    }

    // перемещаем элемент
    elem.style.transform = `translate(${pos}px, ${pos}px)`;

    // снова вызываем анимацию
    requestAnimationFrame(tick);
  };

  requestAnimationFrame(tick);
}
</script>


{% endblock scripts %}